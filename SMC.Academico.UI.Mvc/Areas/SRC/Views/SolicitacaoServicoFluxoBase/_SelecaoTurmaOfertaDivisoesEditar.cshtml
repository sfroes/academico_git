@model SMC.Academico.UI.Mvc.Areas.MAT.Models.TurmaMatriculaItemDivisoesViewModel

@using (Smc.Div().Size(SMCSize.Grid24_24).Begin())
{
    using (Smc.Div().CssClass("smc-listdetailed-conteudo-lista-item-destaque").Size(SMCSize.Grid24_24).Begin())
    {
        using (Smc.Div().Size(SMCSize.Grid24_24).Begin())
        {
            using (Smc.Div().Size(SMCSize.Grid1_24, SMCSize.Grid1_24, SMCSize.Grid1_24, SMCSize.Grid1_24).CssClass("smc-sga-legenda-agrupamento").Begin())
            {
                @Smc.LegendItem(m => m.SituacaoPlanoEstudo)
                @Smc.EditorFor(m => m.PertencePlanoEstudo)
            }

            if (Model.PermitirGrupo && Model.DivisoesTurmas.Count() > 1)
            {
                @Smc.DisplayFor(m => m.DivisaoTurmaDescricao).Size(SMCSize.Grid10_24, SMCSize.Grid12_24, SMCSize.Grid12_24, SMCSize.Grid9_24).HideLabel()
                @Smc.EditorFor(m => m.SeqDivisaoTurma).Size(SMCSize.Grid10_24, SMCSize.Grid10_24, SMCSize.Grid10_24, SMCSize.Grid10_24).HideLabel()
                @Smc.EditorFor(m => m.SeqConfiguracaoComponente)
                @Smc.EditorFor(m => m.Seq)
            }
            else
            {
                @Smc.DisplayFor(m => m.DivisaoTurmaDescricao).Size(SMCSize.Grid10_24, SMCSize.Grid12_24, SMCSize.Grid12_24, SMCSize.Grid9_24).HideLabel()
                @Smc.DisplayFor(m => m.SeqDivisaoTurma).Size(SMCSize.Grid10_24, SMCSize.Grid10_24, SMCSize.Grid10_24, SMCSize.Grid10_24).HideLabel()
                @Smc.EditorFor(m => m.SeqConfiguracaoComponente)
                @Smc.EditorFor(m => m.Seq)
                @Smc.EditorFor(m => m.SeqDivisaoTurmaDisplay)
            }

            if (Model.SeqDivisaoTurma > 0)
            {
                @(Smc.ButtonSet().Type(SMCButtonSetType.Secondary).CssClass("smc-sga-alinhamento-botao-secundario")
                             .AddButton(Smc.Button(SMCMvcConsts.MODAL_BEHAVIOR_OPEN)
                                            .Attribute(SMCMvcConsts.MODAL_ID, "modalVisualizarDivisaoTurma")
                                            .Attribute(SMCMvcConsts.MODAL_TITLE, Smc.GetUIResource("Title_Divisao_Turma"))
                                            .Ajax(isPost: false)
                                            .SecurityToken(SMC.Academico.Common.Areas.TUR.Constants.UC_TUR_001_06_01.VISUALIZAR_DETALHES_DIVISAO_TURMA)
                                            .CssClass("smc-btn-visualizar-icotext").Tooltip(Smc.GetUIResource("Tooltip_Divisao_Turma"))
                                            .Text(Smc.GetUIResource("Botao_Divisao_Turma"))
                                            .Action("VisualizarDivisaoTurmaDetalhes", "DetalhesDivisaoTurmaRoute", new { seqDivisaoTurma = Model.SeqDivisaoTurma, seqPessoaAtuacao = Model.SeqPessoaAtuacao, area = string.Empty }))
                )
            }
            else
            {
                if (Model.DivisoesTurmas.Count() > 0)
                {
                    @(Smc.ButtonSet().Type(SMCButtonSetType.Secondary).CssClass("smc-sga-alinhamento-botao-secundario")
                                             .AddButton(Smc.Button(SMCMvcConsts.MODAL_BEHAVIOR_OPEN)
                                                    .Attribute(SMCMvcConsts.MODAL_ID, "modalVisualizarDivisaoTurma")
                                                    .Attribute(SMCMvcConsts.MODAL_TITLE, Smc.GetUIResource("Title_Divisao_Turma"))
                                                    .Ajax(isPost: false)
                                                    .SecurityToken(SMC.Academico.Common.Areas.TUR.Constants.UC_TUR_001_06_01.VISUALIZAR_DETALHES_DIVISAO_TURMA)
                                                    .CssClass("smc-btn-visualizar-icotext").Tooltip(Smc.GetUIResource("Tooltip_Divisao_Turma"))
                                                    .Text(Smc.GetUIResource("Botao_Divisao_Turma"))
                                                    .Action("VisualizarDivisaoTurmaDetalhes", "DetalhesDivisaoTurmaRoute", new { seqDivisaoTurma = new SMCEncryptedLong(Model.DivisoesTurmas[0].Seq), seqPessoaAtuacao = new SMCEncryptedLong(Model.SeqPessoaAtuacao), area = string.Empty }))
                        )
                }
            }
        }
    }
}
