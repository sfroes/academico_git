@model SMC.Academico.UI.Mvc.Areas.MAT.Models.AtividadeAcademicaMatriculaItemViewModel
@using SMC.Academico.Common.Areas.MAT.Enums
@using (Smc.Div().Size(SMCSize.Grid22_24).CssClass("smc-listdetailed-item smc-listdetailed-botao-unico").Begin())
{
    using (Smc.Div().CssClass("smc-listdetailed-conteudo").Size(SMCSize.Grid24_24).Begin())
    {

        if (Model.ExibirMatriculaPertence)
        {
            using (Smc.Div().Size(SMCSize.Grid2_24, SMCSize.Grid24_24, SMCSize.Grid3_24, SMCSize.Grid2_24).CssClass("smc-sga-legenda-agrupamento").Begin())
            {
                @Smc.LegendItem(m => m.Pertence)
                @Smc.LegendItem(m => m.MatriculaPertence, displayDescription: false)
            }
        }
        else
        {
            using (Smc.Div().Size(SMCSize.Grid1_24, SMCSize.Grid24_24, SMCSize.Grid2_24, SMCSize.Grid1_24).CssClass("smc-sga-legenda-agrupamento").Begin())
            {
                @Smc.LegendItem(m => m.Pertence)
            }
        }

        @Smc.EditorFor(m => m.Seq)
        @Smc.DisplayFor(m => m.DescricaoFormatada).CssClass("smc-listdetailed-conteudo-titulo-linhaunica").Size(SMCSize.Grid16_24, SMCSize.Grid24_24, SMCSize.Grid13_24, SMCSize.Grid16_24).HideLabel()
        @*@Smc.DisplayFor(m => m.SituacaoMotivo).Size(SMCSize.Grid6_24).CssClass("smc-sga-totalizador").HideLabel()*@
    }

    var buttonSet = Smc.ButtonSet().Type(SMCButtonSetType.Secondary).Size(SMCSize.Grid1_24, SMCSize.Grid2_24, SMCSize.Grid2_24, SMCSize.Grid1_24).Orientation(SMCOrientation.Vertical);

	if (Model.PertencePlanoEstudo.GetValueOrDefault() && Model.MatriculaPertence == MatriculaPertencePlanoEstudo.Exclusao)
    {
        buttonSet.AddButton(Smc.Button(SMCButtonBehavior.Desfazer)
                                         .Ajax(isPost: false)
                                         .Action("AtividadeDesfazerExcluirSelecaoAluno", routeValues: new { @SeqSolicitacaoMatriculaItem = Model.Seq, @SeqProcessoEtapa = Model.SeqProcessoEtapa, @SeqSolicitacaoServico = Request.QueryString["seqSolicitacaoServico"], @SeqConfiguracaoEtapa = Request.QueryString["seqConfiguracaoEtapa"] })
                                         .Confirm(Smc.GetUIResource("Title_Desfazer_Excluir_Atividade_Selecionado"), string.Format(Smc.GetUIResource("Desfazer_Excluir_Atividade_Selecionado"), Model.DescricaoFormatada))
                                         .DisplayMode(SMCButtonDisplayMode.Icon)
                                         .Type(SMCButtonType.Link));

    }
    else
    {
        buttonSet.AddButton(Smc.Button(SMCButtonBehavior.Excluir)
                                               .Ajax(isPost: false)
                                               .Action("AtividadeExcluirSelecaoAluno", routeValues: new { @SeqSolicitacaoMatriculaItem = Model.Seq, @SeqProcessoEtapa = Model.SeqProcessoEtapa, @SeqSolicitacaoServico = Request.QueryString["seqSolicitacaoServico"], @SeqConfiguracaoEtapa = Request.QueryString["seqConfiguracaoEtapa"] })
                                               .Confirm(Smc.GetUIResource("Title_Excluir_Atividade_Selecionado"), string.Format(Smc.GetUIResource("Excluir_Atividade_Selecionado"), Model.DescricaoFormatada))
                                               .DisplayMode(SMCButtonDisplayMode.Icon));

    }

    @buttonSet;
}
