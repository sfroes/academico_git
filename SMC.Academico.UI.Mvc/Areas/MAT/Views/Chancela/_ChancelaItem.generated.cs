#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.42000
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    #line 4 "..\..\Areas\MAT\Views\Chancela\_ChancelaItem.cshtml"
    using SMC.Academico.Common.Areas.ALN.Constants;
    
    #line default
    #line hidden
    
    #line 5 "..\..\Areas\MAT\Views\Chancela\_ChancelaItem.cshtml"
    using SMC.Academico.Common.Areas.CNC.Constants;
    
    #line default
    #line hidden
    
    #line 1 "..\..\Areas\MAT\Views\Chancela\_ChancelaItem.cshtml"
    using SMC.Academico.UI.Mvc.Areas.MAT.Models;
    
    #line default
    #line hidden
    using SMC.Framework;
    
    #line 2 "..\..\Areas\MAT\Views\Chancela\_ChancelaItem.cshtml"
    using SMC.Framework.Model;
    
    #line default
    #line hidden
    using SMC.Framework.Security;
    using SMC.Framework.UI.Mvc;
    
    #line 3 "..\..\Areas\MAT\Views\Chancela\_ChancelaItem.cshtml"
    using SMC.Framework.UI.Mvc.Html;
    
    #line default
    #line hidden
    using SMC.Seguranca.UI.Mvc.Extensions;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/MAT/Views/Chancela/_ChancelaItem.cshtml")]
    public partial class _Areas_MAT_Views_Chancela__ChancelaItem_cshtml : SMC.Framework.UI.Mvc.SMCWebViewPage<SMCPagerModel<ChancelaItemListaViewModel>>
    {
        public _Areas_MAT_Views_Chancela__ChancelaItem_cshtml()
        {
        }
        public override void Execute()
        {
WriteLiteral("\r\n");

            
            #line 9 "..\..\Areas\MAT\Views\Chancela\_ChancelaItem.cshtml"
  
    Func<object, SMCButtonFluentConfiguration> funcBotaoChancela = x =>
    {
        var itemParsed = x as ChancelaItemListaViewModel;
        SMCButtonFluentConfiguration botao;

        if (itemParsed.TokenEtapaSGF.Contains(MatriculaTokens.EFETIVACAO))
        {
            botao = Smc.Button("Reabrir", "ReabrirChancela", new { seqSolicitacaoServico = new SMCEncryptedLong(itemParsed.Seq) }, "Chancela")
                       .CssClass("smc-btn-custom-destaque-grid smc-btn-chancela").Type(SMCButtonType.Link);
        }
        else
        {
            botao = Smc.Button("Chancelar", "EntrarEtapa", new { seqSolicitacaoServico = new SMCEncryptedLong(itemParsed.Seq), seqConfiguracaoEtapa = new SMCEncryptedLong(itemParsed.SeqConfiguracaoEtapa) }, "Chancela")
                       .CssClass("smc-btn-custom-destaque-grid smc-btn-chancela").Type(SMCButtonType.Link);
        }



        if (!itemParsed.EscalonamentoVigente)
        {
            botao.Enabled(false).ButtonInstructions(Smc.GetUIResource("Botao_Chancelar_Escalonamento_Vigente"));
        }

        if (!itemParsed.EtapaChancelaLiberada)
        {
            botao.Enabled(false).ButtonInstructions(Smc.GetUIResource("Botao_Chancelar_Etapa_Liberada"));
        }

        if (itemParsed.Bloqueado)
        {
            botao.Enabled(false).ButtonInstructions(Smc.GetUIResource("Botao_Chancelar_Instructions"));
        }

        if (!itemParsed.EtapaPermiteChancela)
        {
            botao.Enabled(false).ButtonInstructions(Smc.GetUIResource("Botao_Chancelar_Etapa_PermiteChancela"));
        }

        if (itemParsed.SolicitacaoComAtendimentoIniciado && !itemParsed.UsuarioLogadoEResponsavelAtualPelaSolicitacao)
        {
            botao.Confirm(Smc.GetUIResource("MSG_Titulo_Confirmacao"), Smc.GetUIResource("MSG_ConfirmacaoSolicitacaoPossuiUsuarioResponsavel"));
        }
        else
        {
            if (!itemParsed.UsuarioLogadoEResponsavelAtualPelaSolicitacao)
            {
                botao.Confirm(Smc.GetUIResource("MSG_Titulo_Confirmacao"), Smc.GetUIResource("MSG_ConfirmacaoInicioAtendimento"));
            }
        }

        return botao;
    };

    Func<object, SMCButtonFluentConfiguration> funcBotaoPlanoEstudo = x =>
    {
        var itemParsed = x as ChancelaItemListaViewModel;

        var botao = Smc.Button(SMCMvcConsts.MODAL_BEHAVIOR_OPEN, "VisualizarTurmaAtividade", new { @seqSolicitacaoMatricula = new SMCEncryptedLong(itemParsed.Seq), @seqConfiguracaoEtapa = new SMCEncryptedLong(itemParsed.SeqConfiguracaoEtapa), @erro = false, @area = string.Empty, @desconsideraEtapa = true }, "SolicitacaoMatriculaItemRoute")
                        .CssClass("smc-btn-custom-destaque-grid").Text(Smc.GetUIResource("Botao_PlanoEstudo")).Ajax().Type(SMCButtonType.Link);

        botao.Attribute(SMCMvcConsts.MODAL_ID, "_modalPlanoEstudos");
        botao.Attribute(SMCMvcConsts.MODAL_TITLE, Smc.GetUIResource("ModalPlanoEstudo_Title"));
        botao.Enabled(itemParsed.PermiteVisualizarPlanoEstudo);
        botao.Hide(!itemParsed.PermiteVisualizarPlanoEstudo);

        return botao;
    };

    Func<object, SMCButtonFluentConfiguration> funcBotaoIntegralizacao = x =>
    {
        var itemParsed = x as ChancelaItemListaViewModel;

// INTEGRALIZAÇÃO CURRICULAR
var botao = Smc.Button(SMCMvcConsts.MODAL_BEHAVIOR_OPEN)
                   .Action("ConsultaIntegralizacaoCurricular", "IntegralizacaoCurricularRoute", new { @seqPessoaAtuacao = itemParsed.SeqPessoaAtuacao, Area = "" })
                   .Ajax(isPost: false)
                   .Attribute(SMCMvcConsts.MODAL_ID, "modalIntegralizacaoCurricular")
                   .Attribute(SMCMvcConsts.MODAL_TITLE, Smc.GetUIResource("Modal_Title_Integralizacao_Curricular"))
                   .Text(Smc.GetUIResource("Botao_Integralizacao_Curricular"))
                   .SecurityToken(UC_CNC_001_02_01.EXIBIR_INTEGRALIZACAO_CURRICULAR)
                   .Tooltip(Smc.GetUIResource("Botao_Integralizacao_Curricular_Tooltip"));


        botao.Hide(!itemParsed.ExibirIntegralizacao);

        return botao;
    };

    
            
            #line default
            #line hidden
            
            #line 98 "..\..\Areas\MAT\Views\Chancela\_ChancelaItem.cshtml"
Write(Smc.Grid<ChancelaItemListaViewModel>("gridChancela", Model)
                                                    .AutoGenerateColumns()
                                                    .HideRowNumber()
                                                    .GridRowConfiguration((x, y) =>
                                                    {
                                                        if ((y as ChancelaItemListaViewModel).Destaque)
                                                            x.CssClass = "smc-sga-item-disponivel";
                                                    })
                                                    .ButtonColumn(SMCButtonSetType.Secondary, 1, "", "", "smc-sga-col-btn-instruction smc-grid-coluna-botoes", true, funcBotaoChancela, funcBotaoPlanoEstudo, funcBotaoIntegralizacao));

            
            #line default
            #line hidden
            
            #line 106 "..\..\Areas\MAT\Views\Chancela\_ChancelaItem.cshtml"
                                                                                                                                                                                                                                       


            
            #line default
            #line hidden
        }
    }
}
#pragma warning restore 1591
