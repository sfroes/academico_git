@using SMC.Framework.UI.Mvc;

@model SMC.Academico.UI.Mvc.Areas.TUR.Models.PlanoEstudoTurmaViewModel
@{
    var indiceAtual = int.Parse(TempData["IndiceAtual"].ToString());
    TempData["SMCEditorRenamedField"] = "TurmasMatrizOferta[" + indiceAtual + "]";
}

@using (Smc.Div().Size(SMCSize.Grid22_24).CssClass("smc-listdetailed-item smc-sga-plano-estudo-modal-item").Begin())
{
    using (Smc.Div().CssClass("smc-listdetailed-conteudo").Size(SMCSize.Grid24_24).Begin())
    {
        // Header item
        using (Smc.Div().CssClass("smc-listdetailed-header-conteudo smc-sga-plano-estudo-modal-header").Size(SMCSize.Grid24_24).Begin())
        {
            @Smc.DisplayFor(m => m.NomePeriodoFormatado).CssClass("smc-listdetailed-conteudo-subtitulo smc-sga-plano-estudo-legend m-left-0").Size(SMCSize.Grid24_24).HideLabel()
        }

        using (Smc.Div().CssClass("smc-sga-divisoes-turma smc-sga-plano-estudo-modal").Size(SMCSize.Grid24_24).Begin())
        {
            var viewItem = Smc.GetExternalView(SMC.Academico.UI.Mvc.AcademicoExternalViews.PLANO_ESTUDO_SELECAO_TURMA_OFERTA_ITEM);
            @(Smc.List("SelectedValues", Model.TurmaOfertadaItens).CssClass("smc-sga-plano-estudo-modal-content").AllowSelect(s => s.SeqTurma).HtmlTemplate(turma => Html.Partial(viewItem, turma)))
        }
    }

    @Smc.EditorFor(m => m.backUrl)
}

@{
    TempData["IndiceAtual"] = indiceAtual + 1;
}