@model SMC.Academico.UI.Mvc.Areas.SRC.Models.SolicitacaoServicoPaginaViewModelBase
@using SMC.Academico.Common.Areas.SRC.Constants

@using (Smc.Div("fieldsetParametros").Begin())
{
    @Smc.EditorFor(prop => prop.SeqSolicitacaoServico)
    @Smc.EditorFor(prop => prop.SeqConfiguracaoEtapa)
    @Smc.EditorFor(prop => prop.SeqConfiguracaoEtapaPagina)
    @Smc.EditorFor(prop => prop.SeqSolicitacaoHistoricoNavegacao)
    @Smc.EditorFor(prop => prop.SeqSituacaoFinalSucesso)
    @Smc.EditorFor(prop => prop.SeqSituacaoFinalSemSucesso)
    @Smc.EditorFor(prop => prop.SeqSituacaoFinalCancelada)
    @Smc.EditorFor(prop => prop.SeqSolicitacaoServicoEtapa)
    @Smc.EditorFor(prop => prop.SeqPessoaAtuacao)
    @Smc.EditorFor(prop => prop.SeqProcesso)
    @Smc.EditorFor(prop => prop.SeqServico)
    @Smc.EditorFor(prop => prop.DescricaoServico)
}

@{
    var buttonSet = Smc.ButtonSet().Size(SMCSize.Grid24_24).CssClass("smc-sga-matricula-linha-botoes");

    if (!string.IsNullOrEmpty(Model.TokenPaginaAnterior))
    {
        buttonSet.AddButton(Smc.Button(SMCButtonBehavior.Anterior)
                     .Action(Model.ActionSalvarEtapa, "ProcessoSolicitacao", new
                     {
                         @area = "SRC",
                         @tokenRet = Model.TokenPaginaAnterior
                     })
                     .Id("paginaAnterior")
                     .Type(SMCButtonType.Submit)
                     .Attribute("formnovalidate", "formnovalidate")
                     .Text(Smc.GetUIResource(Model.ChaveTextoBotaoAnterior))
                     .Tooltip(Smc.GetUIResource(Model.ChaveTextoBotaoAnterior))
                     .CssClass("smc-btn-anterior-icotext"));
    }

    buttonSet.AddButton(Smc.Button("cancelarProcesso")
                                    .Id("cancelarProcesso")
                                    .Type(SMCButtonType.Link)
                                    .Action("Index", "SolicitacaoServico", new { area = "SRC" })
                                    .CssClass("smc-btn-cancelar-icotext"));

    if (Model.Token == TOKEN_SOLICITACAO_SERVICO.SOLICITACAO_PADRAO_SOLICITACAO_CONFIRMACAO ||
        Model.Token == TOKEN_SOLICITACAO_SERVICO.CONFIRMACAO_SOLICITACAO_MATRICULA)
    {
        buttonSet.AddButton(Smc.Button(SMCButtonBehavior.Salvar)
                        .Action(Model.ActionSalvarEtapa, "ProcessoSolicitacao", new
                        {
                            @area = "SRC"
                        })
                        .Id("proximaPagina")
                        .Confirm(Smc.GetUIResource("Botao_Concluir_Mensagem_Titulo"), Smc.GetUIResource("Botao_Concluir_Mensagem_Texto"))
                        .Text(Smc.GetUIResource(Model.ChaveTextoBotaoProximo))
                        .Tooltip(Smc.GetUIResource(Model.ChaveTextoBotaoProximo))
                        .DisplayMode(SMCButtonDisplayMode.Text)
                        .CssClass("smc-btn-proximo-icotext-destaque"));
    }
    else
    {
        buttonSet.AddButton(Smc.Button(SMCButtonBehavior.Salvar)
                            .Action(Model.ActionSalvarEtapa, "ProcessoSolicitacao", new
                            {
                                @area = "SRC"
                            })
                            .Id("proximaPagina")
                            .Text(Smc.GetUIResource(Model.ChaveTextoBotaoProximo))
                            .Tooltip(Smc.GetUIResource(Model.ChaveTextoBotaoProximo))
                            .DisplayMode(SMCButtonDisplayMode.Text)
                            .CssClass("smc-btn-proximo-icotext-destaque"));
    }

    @buttonSet;
}