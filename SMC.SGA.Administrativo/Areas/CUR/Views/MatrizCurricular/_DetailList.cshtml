@model MatrizCurricularListarDynamicModel

@using (Smc.Div().Size(SMCSize.Grid24_24).CssClass("smc-listdetailed-item").Begin())
{
    using (Smc.Div().CssClass("smc-listdetailed-conteudo").Size(SMCSize.Grid23_24).Begin())
    {
        using (Smc.Div().CssClass("smc-listdetailed-header-conteudo").Size(SMCSize.Grid24_24).Begin())
        {
            @Smc.DisplayFor(m => m.DescricaoFormatada).HideLabel().Size(SMCSize.Grid24_24).CssClass("smc-listdetailed-conteudo-titulo")
        }

        using (Smc.Div().CssClass("smc-listdetailed-conteudo-lista").Size(SMCSize.Grid24_24).Begin())
        {
            if (Model.Ofertas != null)
            {
                @(Smc.Grid("Ofertas", new SMCPagerModel<MatrizCurricularGridOfertaViewModel>(Model.Ofertas, null))
                    .FieldColumn(x => x.Codigo)
                    .FieldColumn(x => x.DescricaoUnidadeLocalidade)
                    .FieldColumn(x => x.DescricaoTurno)
                    .FieldColumn(x => x.DataInicioVigencia)                    
                    .FieldColumn(x => x.DataFinalVigencia)
                    .FieldColumn(x => x.NumeroPeriodoAtivo)
                    .FieldColumn(x => x.HistoricoSituacaoAtual)
                    .HideNavigator()
                    .ButtonColumn(SMCButtonSetType.Secondary, 0, "", "", "", true,
                        x => Smc.Button(SMCButtonBehavior.Alterar, "Index", new { SeqMatrizCurricularOferta = new SMCEncryptedLong((x as MatrizCurricularGridOfertaViewModel).SeqDivisao), SeqCurriculoCursoOferta = new SMCEncryptedLong((x as MatrizCurricularGridOfertaViewModel).SeqCurriculoCursoOferta) }, "HistoricoSituacaoMatrizCurricularOferta")
                        .Text(Smc.GetUIResource("Botao_AlterarHistoricoSituacaoMatrizCurricularOferta"))
                        .Tooltip(Smc.GetUIResource("Botao_AlterarHistoricoSituacaoMatrizCurricularOferta"))
                        .SecurityToken(UC_CUR_001_05_03.MANTER_HISTORICO_SITUACAO_MATRIZ_CURRICULAR))
                )
            }
        }
    }
    @Smc.Templates.DetailedListButtons().Size(SMCSize.Grid1_24)
}