@model DocumentoRequeridoFiltroViewModel

@Html.Action("Cabecalho", new { seqConfiguracaoEtapa = (SMCEncryptedLong)Model.SeqConfiguracaoEtapa })

@(Smc.ButtonSet().Type(SMCButtonSetType.Primary)
               .AddButton(Smc.Button(SMCMvcConsts.MODAL_BEHAVIOR_OPEN)
               .Enabled(Model.HabilitarBotaoNovo)
               .ButtonInstructions(Smc.GetUIResource(Model.MensagemBotaoNovo))
               .Attribute(SMCMvcConsts.MODAL_ID, "modalIncluirNovoDocumentoRequerido")
               .Text(Smc.GetUIResource("Botao_Incluir_Novo_Documento_Requerido"))
               .Tooltip(Smc.GetUIResource("Botao_Incluir_Novo_Documento_Requerido_Tooltip"))
               .Ajax(isPost: false, updateTargetId: "modalIncluirNovoDocumentoRequerido")
               .CssClass("smc-btn-novo-icotext-destaque")
               .SecurityToken(UC_SRC_002_04_11.CONFIGURAR_ETAPA_MANTER_DOCUMENTOS)
               .Url(Url.Action("Incluir", "DocumentoRequerido", new { SeqConfiguracaoEtapa = new SMCEncryptedLong((Model as DocumentoRequeridoFiltroViewModel).SeqConfiguracaoEtapa) })))
)

@using (Smc.Div("divGridDocumentosRequeridos").Attribute("data-id", "divGridDocumentosRequeridos").CssClass("smc-sga-central-solicitacoes").Size(SMCSize.Grid24_24, SMCSize.Grid24_24, SMCSize.Grid24_24, SMCSize.Grid24_24).Begin())
{
    @Smc.ActionList("ListarDocumentosRequeridos", Model, false)
}

@(Smc.ButtonSet()
    .AddButton(Smc.Button("Voltar", "Index", new { seqProcesso = (SMCEncryptedLong)Model.SeqProcesso }, "ConfiguracaoEtapa")
    .Type(SMCButtonType.Link)
    .CssClass("smc-btn-voltar-icotext"))
)

@using (Smc.ModalWindow("modalIncluirNovoDocumentoRequerido")
                    .Title(Smc.GetUIResource("Botao_Incluir_Novo_Documento_Requerido_Title"))
                    .Form("Incluir", "Salvar", "DocumentoRequerido", null, true, x => x.Ajax("#divGridDocumentosRequeridos", fieldsContainerToRequest: "#divGridDocumentosRequeridos"))
                    .Button(SMCButtonBehavior.Salvar, config: bnt => bnt.DisplayMode(SMCButtonDisplayMode.TextAndIcon).Highlight())
                    .Button(SMCButtonBehavior.Fechar, config: bnt => bnt.DisplayMode(SMCButtonDisplayMode.TextAndIcon).Text(Smc.GetUIResource("Botao_Cancelar")).Tooltip(Smc.GetUIResource("Botao_Cancelar")))
                    .Begin())
{ }