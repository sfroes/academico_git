@using SMC.Framework.Util
@using SMC.Academico.Common.Areas.ORT.Enums
@model TurmaOrientacaoListarDynamicModel

@using (Smc.Div().Size(SMCSize.Grid24_24).CssClass("smc-listdetailed-item smc-sga-lista-detalhada").Begin())
{
    using (Smc.Div().Size(SMCSize.Grid23_24).CssClass("smc-listdetailed-conteudo").Begin())
    {
        using (Smc.Div().CssClass("smc-listdetailed-header-conteudo").Size(SMCSize.Grid24_24).Begin())
        {
            @Smc.DisplayFor(d => d.RaNome).Size(SMCSize.Grid17_24)
            @Smc.DisplayFor(d => d.DescricaoSituacaoMatricula).Size(SMCSize.Grid7_24)
        }
        using (Smc.Div().CssClass("smc-listdetailed-conteudo-lista").Size(SMCSize.Grid24_24).Begin())
        {


            @(Smc.Grid("Colaboradores" + Model.Seq, new SMCPagerModel<TurmaOrientacaoColaboradorViewModel>(Model.Colaboradores))
                .HideGridTitle()
                .HideNavigator()
                .HideRowNumber()
                @*.ContentColumn( //Observar retrirada temporariamente para definição da regra 08/07/2019 AN responsável no momento Luciana
                @<text>
                    @{
                        var itemParsed = item as TurmaOrientacaoColaboradorViewModel;

                        if (!itemParsed.VinculoAtivo)
                        {
                            @Smc.Legend("ComponenteCurriculo", SMCOrientation.Horizontal).CssClass("smc-size-lg-1").Item(SMCGeometricShapes.Triangle, SMCLegendColors.Yellow2, "", true);
                        }

                    }
                </text>, cssClass: "smc-size-md-1 smc-size-xs-1 smc-size-sm-1 smc-size-lg-1")*@
                .FieldColumn(f => f.DadosColaboradorCompleto, cssClass: "smc-size-md-17 smc-size-xs-17 smc-size-sm-17 smc-size-lg-17")
                .FieldColumn(f => f.TipoParticipacaoOrientacao, cssClass: "smc-size-md-7 smc-size-xs-7 smc-size-sm-7 smc-size-lg-7"))                
        }

    }
    //@Smc.Templates.DetailedListButtons().Size(SMCSize.Grid1_24).TokenRemove(SMCSecurityConsts.SMC_DENY_AUTHORIZATION).TokenEdit(UC_TUR_001_07_02.MANTER_ORIENTACAO_TURMA)
    SMCButtonFluentConfiguration buttonEditar = Smc.Button(SMCMvcConsts.MODAL_BEHAVIOR_OPEN)
                           .Attribute(SMCMvcConsts.MODAL_ID, SMCMvcConsts.SMC_VIEWPADRAO_MODAL_ID_EDIT)
                           .Attribute(SMCMvcConsts.MODAL_SUBMIT_URL, Url.Action("Salvar", "TurmaOrientacao", new { @seqTurma = Model.SeqTurma, @SeqDivisaoTurma = Model.SeqDivisaoTurma }))
                           .Attribute(SMCMvcConsts.MODAL_TITLE, Smc.GetUIResource("Editar_Title"))
                           .Ajax(isPost: false)
                           .CssClass("smc-btn-alterar-ico")
                           .Text(Smc.GetUIResource("Botao_Editar"))
                           .Tooltip(Smc.GetUIResource("Botao_Editar_Tooltip"))
                           .SecurityToken(UC_TUR_001_07_02.MANTER_ORIENTACAO_TURMA)
                           .Enabled(Model.HabilitarBotaoEditar)
                           .ButtonInstructions(Smc.GetUIResource(Model.MensagemBotaoEditar))
                           .Action("Editar", "TurmaOrientacao", new { SeqTurma = new SMCEncryptedLong(Model.SeqTurma), SeqDivisaoTurma = new SMCEncryptedLong(Model.SeqDivisaoTurma), seq = new SMCEncryptedLong(Model.Seq) });

    //if (!Model.SeqOrientacao.HasValue)
    //{
    //    buttonEditar.Enabled(Model.SeqOrientacao != null);
    //    buttonEditar.ButtonInstructions(Smc.GetUIResource("Botao_Editar_Instruictions"));
    //}

    @(Smc.Templates.DetailedListButtons().Size(SMCSize.Grid1_24)
                                                                                                            .TokenRemove(SMCSecurityConsts.SMC_DENY_AUTHORIZATION)
                                                                                                            .AllowEdit(false)
                                                                                                            .AddButton(buttonEditar))
}


