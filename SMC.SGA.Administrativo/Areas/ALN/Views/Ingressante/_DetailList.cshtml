@using SMC.SGA.Administrativo.Areas.ALN.Models

@model IngressanteListarDynamicModel

@using (Smc.Div().Size(SMCSize.Grid24_24).CssClass("smc-listdetailed-item").Begin())
{
    using (Smc.Div().CssClass("smc-listdetailed-conteudo").Size(SMCSize.Grid23_24).Begin())
    {
        using (Smc.Div().CssClass("smc-listdetailed-item-conteudo").Size(SMCSize.Grid24_24, SMCSize.Grid24_24, SMCSize.Grid24_24, SMCSize.Grid24_24).Begin())
        {

            // Header
            using (Smc.Div().CssClass("smc-listdetailed-header-conteudo").Size(SMCSize.Grid24_24).Begin())
            {

                using (Smc.Div("DivButtonCamposHeader").Size(SMCSize.Grid18_24, SMCSize.Grid16_24, SMCSize.Grid15_24, SMCSize.Grid19_24).Begin())
                {
                    @Smc.DisplayFor(m => m.Seq).Size(SMCSize.Grid3_24, SMCSize.Grid24_24, SMCSize.Grid12_24, SMCSize.Grid3_24)
                    @Smc.DisplayFor(m => m.Nome).Size(SMCSize.Grid9_24, SMCSize.Grid24_24, SMCSize.Grid12_24, SMCSize.Grid8_24)
                    @Smc.DisplayFor(m => m.CpfOuPassaporte).Size(SMCSize.Grid6_24, SMCSize.Grid24_24, SMCSize.Grid12_24, SMCSize.Grid5_24)
                    @Smc.DisplayFor(m => m.SituacaoIngressante).Size(SMCSize.Grid6_24, SMCSize.Grid24_24, SMCSize.Grid12_24, SMCSize.Grid6_24)
                    if (Model.Falecido)
                    {
                        @Smc.DisplayFor(m => m.Falecido).Size(SMCSize.Grid4_24, SMCSize.Grid24_24, SMCSize.Grid6_24, SMCSize.Grid2_24)
                    }

                    @Smc.DisplayFor(m => m.OrigemIngressante).Size(SMCSize.Grid8_24, SMCSize.Grid24_24, SMCSize.Grid24_24, SMCSize.Grid12_24)
                }

                using (Smc.Div("DivButtonVisualizar").Size(SMCSize.Grid5_24, SMCSize.Grid9_24, SMCSize.Grid8_24, SMCSize.Grid4_24).CssClass("smc-btn-custom-destaque-lista-detalhada").Begin())
                {
                    var buttonSet = Smc.ButtonSet().Type(SMCButtonSetType.Secondary);

                    buttonSet.AddButton(Smc.Button(SMCMvcConsts.MODAL_BEHAVIOR_OPEN)
                                        .Attribute(SMCMvcConsts.MODAL_ID, SMCMvcConsts.SMC_VIEWPADRAO_MODAL_ID_CUSTOM)
                                        .Attribute(SMCMvcConsts.MODAL_TITLE, Smc.GetUIResource("Title_VisualizarDadosAcademicosIngressante"))
                                        .Ajax(isPost: false)
                                        .Text(Smc.GetUIResource("Botao_VisualizarDadosAcademicosIngressante"))
                                        .Tooltip(Smc.GetUIResource("Botao_VisualizarDadosAcademicosIngressante"))
                                        .Type(SMCButtonType.Link).CssClass("smc-btn-visualizar-icotext")
                                        .SecurityToken(UC_ALN_002_01_01.PESQUISAR_INGRESSANTE)
                                        .Action("VisualizarDadosAcademicosIngressante", "Ingressante", new { seq = new SMCEncryptedLong(Model.Seq) })
                                        .CssClass("smc-btn-custom-destaque-grid"));

                    @buttonSet;
                }

            }

            // Primeira linha
            using (Smc.Div().Size(SMCSize.Grid24_24).Begin())
            {
                @Smc.DisplayFor(m => m.DescricaoNivelEnsino).Size(SMCSize.Grid12_24, SMCSize.Grid24_24, SMCSize.Grid12_24, SMCSize.Grid6_24)

                using (Smc.Div().Size(SMCSize.Grid12_24, SMCSize.Grid24_24, SMCSize.Grid12_24, SMCSize.Grid6_24).Begin())
                {
                    if (Model.TipoVinculoAlunoExigeCurso && !string.IsNullOrEmpty(Model.InformacaoEscalonamentoFormatada))
                    {
                        @Smc.Instructions().Text(Model.InformacaoEscalonamentoFormatada).CssClass("smc-sga-instruction smc-sga-instruction-vinculo-ingressante-lista")
                    }
                    @Smc.DisplayFor(m => m.Vinculo)
                }
            }
        }

        // Segunda linha (desconsiderando até a culuna do botão de detalhes)
        using (Smc.Div("DivOfertas").Size(SMCSize.Grid24_24).Begin())
        {
            if (Model.OfertasCampanha.SMCCount() > 0)
            {
                @Smc.DisplayFor(m => m.OfertasCampanha).Size(SMCSize.Grid24_24)
            }
            else
            {
                using (Smc.Div().Size(SMCSize.Grid24_24).Begin())
                {
                    <p>@Smc.GetUIResource("Label_Campo_Vazio")</p>
                }
            }
        }
    }
    @Html.Partial("_DetailListButtons", Model)
}